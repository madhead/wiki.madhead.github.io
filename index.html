<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta name="generator" content="Hugo 0.112.7">
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Keyboards Guide # This guide will help you choose the right keyboard for your needs and show you various API facilities available in the library to support your choice.
Introduction # Keyboard Types # The first thing you need to know is that there are two types of keyboards available in the Telegram Bot API: reply and inline keyboards.
Note the differences in the way these keyboards are shown to a user.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://wiki.madhead.me/" />
<title> | Everything I know</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.3751f79112047a25dd0fabe2511cec2318bbdfd0a26160c6ad417b88bc46b8a2.css" integrity="sha256-N1H3kRIEeiXdD6viURzsIxi739CiYWDGrUF7iLxGuKI=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.78166b9d46e23e0ea915cb6887a30b633e7bc4fad10c8b6b9f6fa532271c19ba.js" integrity="sha256-eBZrnUbiPg6pFctoh6MLYz57xPrRDItrn2&#43;lMiccGbo=" crossorigin="anonymous"></script>

  <script defer src="/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js" integrity="sha256-b2&#43;Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC&#43;NdcPIvZhzk=" crossorigin="anonymous"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-S2TKKX248W"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-S2TKKX248W', { 'anonymize_ip': false });
}
</script>
<link rel="alternate" type="application/rss+xml" href="https://wiki.madhead.me/index.xml" title="Everything I know" />
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><img src="/logo.svg" alt="Logo" /><span>Everything I know</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e2b0ac03825df76ce8598f4530352658" class="toggle"  />
    <label for="section-e2b0ac03825df76ce8598f4530352658" class="flex justify-between">
      <a href="/wiki/3d-printing/" class="">ğŸ—œï¸ 3D printing</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-700c9114c61ca4cfa240066d2b60722d" class="toggle"  />
    <label for="section-700c9114c61ca4cfa240066d2b60722d" class="flex justify-between">
      <a href="/wiki/ai/" class="">ğŸš· AI</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-34cd0d1749e90a6c77ceb60f7f33077e" class="toggle"  />
    <label for="section-34cd0d1749e90a6c77ceb60f7f33077e" class="flex justify-between">
      <a href="/wiki/ai/sd/" class="">ğŸ’­ Stable Diffusion</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a6c9592a4d267a714cad35851a6532cc" class="toggle"  />
    <label for="section-a6c9592a4d267a714cad35851a6532cc" class="flex justify-between">
      <a href="/wiki/ai/voice/" class="">ğŸ—£ï¸ Voice</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a83864a1938423010e17db30802c030a" class="toggle"  />
    <label for="section-a83864a1938423010e17db30802c030a" class="flex justify-between">
      <a role="button" class="">ğŸ¨ Art</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-01e7721aa5531f18ffc6ef96f8fe433a" class="toggle"  />
    <label for="section-01e7721aa5531f18ffc6ef96f8fe433a" class="flex justify-between">
      <a href="/wiki/art/photography/" class="">ğŸ“· Photography</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-43e997e314e6ea17d72e21b805e588a1" class="toggle"  />
    <label for="section-43e997e314e6ea17d72e21b805e588a1" class="flex justify-between">
      <a href="/wiki/astronomy/" class="">ğŸŒŒ Astronomy</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0d0c7513b68bca912ffa2325e4539831" class="toggle"  />
    <label for="section-0d0c7513b68bca912ffa2325e4539831" class="flex justify-between">
      <a role="button" class="">â›“ï¸ Blockchain</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/blockchain/jobs/" class="">ğŸ¤‘ Jobs</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/wiki/blockchain/learning/" class="">ğŸ“š Learning</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-10aad55928b09a45328f2d25bc0c2d84" class="toggle"  />
    <label for="section-10aad55928b09a45328f2d25bc0c2d84" class="flex justify-between">
      <a role="button" class="">ğŸ“š Books</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9352cd240f3c8038846fa61aa8d6cc30" class="toggle"  />
    <label for="section-9352cd240f3c8038846fa61aa8d6cc30" class="flex justify-between">
      <a href="/wiki/computers/" class="">ğŸ’» Computers</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-28bdfbda20b4e634923e5152694dd408" class="toggle"  />
    <label for="section-28bdfbda20b4e634923e5152694dd408" class="flex justify-between">
      <a href="/wiki/computers/linux/" class="">ğŸ§ Linux</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2b5b112aaa36c9fb22841c66e176e09b" class="toggle"  />
    <label for="section-2b5b112aaa36c9fb22841c66e176e09b" class="flex justify-between">
      <a href="/wiki/cooking/" class="">ğŸ§‘â€ğŸ³ Cooking</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2d7a466fc03ac77c86f6ec02134b6268" class="toggle"  />
    <label for="section-2d7a466fc03ac77c86f6ec02134b6268" class="flex justify-between">
      <a href="/wiki/cooking/coffee/" class="">â˜• Coffee</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7012f76a5a986b54059fc707cb21c8c3" class="toggle"  />
    <label for="section-7012f76a5a986b54059fc707cb21c8c3" class="flex justify-between">
      <a href="/wiki/cooking/coffee/aeropress/" class="">ğŸ—œï¸ AeroPress</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f11746fab4a48a965f5c586bb692f1b4" class="toggle"  />
    <label for="section-f11746fab4a48a965f5c586bb692f1b4" class="flex justify-between">
      <a href="/wiki/cooking/coffee/apps/" class="">ğŸ“± Apps</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8201a571169b5ab879589f72cddd9b1b" class="toggle"  />
    <label for="section-8201a571169b5ab879589f72cddd9b1b" class="flex justify-between">
      <a href="/wiki/cooking/coffee/roasters/" class="">ğŸ”¥ Roasters</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-fc7236e3795ea3e882b018b89f3502a6" class="toggle"  />
    <label for="section-fc7236e3795ea3e882b018b89f3502a6" class="flex justify-between">
      <a href="/wiki/design/" class="">ğŸ«– Design</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-135f7163decc8c1cbb7608231b807441" class="toggle"  />
    <label for="section-135f7163decc8c1cbb7608231b807441" class="flex justify-between">
      <a role="button" class="">ğŸº 3D modelling</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7a78e0bb33b65c78e941ab131731ffe9" class="toggle"  />
    <label for="section-7a78e0bb33b65c78e941ab131731ffe9" class="flex justify-between">
      <a href="/wiki/design/3d-modelling/blender/" class="">ğŸ§¿ Blender</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7cf78639b5310624b83b414d04d78119" class="toggle"  />
    <label for="section-7cf78639b5310624b83b414d04d78119" class="flex justify-between">
      <a href="/wiki/design/color/" class="">ğŸŒˆ Color</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-72fa7ae502e385c915d310c65dcb0eeb" class="toggle"  />
    <label for="section-72fa7ae502e385c915d310c65dcb0eeb" class="flex justify-between">
      <a href="/wiki/design/graphic-design/" class="">âœï¸ Graphic design</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c14ff17eb28904e2c612f46da0562a08" class="toggle"  />
    <label for="section-c14ff17eb28904e2c612f46da0562a08" class="flex justify-between">
      <a href="/wiki/emigration/" class="">ğŸ›« Emigration</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e5ff7f856b793a37cf33c710cdf0e46e" class="toggle"  />
    <label for="section-e5ff7f856b793a37cf33c710cdf0e46e" class="flex justify-between">
      <a role="button" class="">ğŸ‡µğŸ‡± Poland</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-89abad1313b17cc13343a4916c36088a" class="toggle"  />
    <label for="section-89abad1313b17cc13343a4916c36088a" class="flex justify-between">
      <a href="/wiki/emigration/poland/business/" class="">ğŸ•´ï¸ Business</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b646b6a344c2eb4c95f4ff7c858b5a00" class="toggle"  />
    <label for="section-b646b6a344c2eb4c95f4ff7c858b5a00" class="flex justify-between">
      <a role="button" class="">ğŸ¤‘ Finance</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/emigration/poland/finance/ppk/" class="">ğŸ‘´ğŸ½ PPK</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-346b3c41f1b4bc74e9adac24e559d43d" class="toggle"  />
    <label for="section-346b3c41f1b4bc74e9adac24e559d43d" class="flex justify-between">
      <a role="button" class="">âš•ï¸ Healthcare</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/emigration/poland/healthcare/medicines/" class="">ğŸ’Š Medicines</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/wiki/emigration/poland/healthcare/prescriptions/" class="">âœï¸ Prescriptions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c44af1f740997560c1c45e7c5d26df5f" class="toggle"  />
    <label for="section-c44af1f740997560c1c45e7c5d26df5f" class="flex justify-between">
      <a href="/wiki/emigration/poland/language/" class="">ğŸ‘… Language</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e6d737a16dfa474699c0ee18d2d7c944" class="toggle"  />
    <label for="section-e6d737a16dfa474699c0ee18d2d7c944" class="flex justify-between">
      <a href="/wiki/emigration/poland/social/" class="">ğŸ«‚ Social</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-45f1cd93a9ed419154af7b99090a1541" class="toggle"  />
    <label for="section-45f1cd93a9ed419154af7b99090a1541" class="flex justify-between">
      <a href="/wiki/entertainment/" class="">ğŸ® Entertainment</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-873cc626617de4a21c67e9d4a00d9596" class="toggle"  />
    <label for="section-873cc626617de4a21c67e9d4a00d9596" class="flex justify-between">
      <a href="/wiki/entertainment/lego/" class="">ğŸ§± LEGO</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-44f7cf1c4ffe8ac15088728645189a39" class="toggle"  />
    <label for="section-44f7cf1c4ffe8ac15088728645189a39" class="flex justify-between">
      <a href="/wiki/ideas/" class="">ğŸ’¡ Ideas</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-7ad5903f49f3b0eeac95829c06c75e64" class="toggle"  />
    <label for="section-7ad5903f49f3b0eeac95829c06c75e64" class="flex justify-between">
      <a href="/wiki/keyboards/" class="">âŒ¨ï¸ Keyboards</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-05784572eaa88c97b0eacdeb268c65c8" class="toggle"  />
    <label for="section-05784572eaa88c97b0eacdeb268c65c8" class="flex justify-between">
      <a href="/wiki/keyboards/shops/" class="">ğŸ›’ Shops</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-764a68d521cd6d482a266eafe7796450" class="toggle"  />
    <label for="section-764a68d521cd6d482a266eafe7796450" class="flex justify-between">
      <a href="/wiki/keyboards/touch-typing/" class="">ğŸ™ˆ Touch typing</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a21d968ba5ff4b8b1f42ba51c7b4e779" class="toggle"  />
    <label for="section-a21d968ba5ff4b8b1f42ba51c7b4e779" class="flex justify-between">
      <a href="/wiki/languages/" class="">ğŸ”¤ Languages</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5d3ff891c63637e500d8472b9d61af32" class="toggle"  />
    <label for="section-5d3ff891c63637e500d8472b9d61af32" class="flex justify-between">
      <a href="/wiki/languages/polish/" class="">ğŸ‡µğŸ‡± Polish</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b0aa0200f3559c0882ccb5935bd76a5e" class="toggle"  />
    <label for="section-b0aa0200f3559c0882ccb5935bd76a5e" class="flex justify-between">
      <a role="button" class="">ğŸ§  Learning</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-eb0ac44b11a05dd47757ae009847a02d" class="toggle"  />
    <label for="section-eb0ac44b11a05dd47757ae009847a02d" class="flex justify-between">
      <a href="/wiki/learning/digital-gardens/" class="">ğŸŒ± Digital Gardens</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-10805f30748d8c8732550a5a2ac8d653" class="toggle"  />
    <label for="section-10805f30748d8c8732550a5a2ac8d653" class="flex justify-between">
      <a href="/wiki/learning/srs/" class="">ğŸ“‰ Spaced repetition</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a4073b42dd5cc21ca1d27bba793b1dcf" class="toggle"  />
    <label for="section-a4073b42dd5cc21ca1d27bba793b1dcf" class="flex justify-between">
      <a role="button" class="">ğŸµ Music</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6bb2779e8bf68802d0db113aabb77d11" class="toggle"  />
    <label for="section-6bb2779e8bf68802d0db113aabb77d11" class="flex justify-between">
      <a href="/wiki/music/deep-work/" class="">ğŸ‘¨â€ğŸ’» Music for deep work</a>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f1f90b9c6dba9f1e1fce99572ea68155" class="toggle"  />
    <label for="section-f1f90b9c6dba9f1e1fce99572ea68155" class="flex justify-between">
      <a href="/wiki/music/random/" class="">ğŸ² Random music</a>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-877115ad49a739b58277be3e0528e1cb" class="toggle"  />
    <label for="section-877115ad49a739b58277be3e0528e1cb" class="flex justify-between">
      <a href="/wiki/people/" class="">ğŸ—£ï¸ People</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-90bf09b323ba43e4de417ec82d6b2ca9" class="toggle"  />
    <label for="section-90bf09b323ba43e4de417ec82d6b2ca9" class="flex justify-between">
      <a role="button" class="">ğŸ¤” Philosophy</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-5bdc7663438d15651dcd6f71d9acd2f1" class="toggle"  />
    <label for="section-5bdc7663438d15651dcd6f71d9acd2f1" class="flex justify-between">
      <a href="/wiki/philosophy/lot-2046/" class="">â¬› LOT 2046</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/philosophy/lot-2046/lot2046/" class="">â¬› Code of Practice</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6a5480b5ef9c9f21f1b2dbd7997d5dc9" class="toggle"  />
    <label for="section-6a5480b5ef9c9f21f1b2dbd7997d5dc9" class="flex justify-between">
      <a role="button" class="">ğŸ“· Photo &amp; Video</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9b31b788b627e91d19bb74dc203b6107" class="toggle"  />
    <label for="section-9b31b788b627e91d19bb74dc203b6107" class="flex justify-between">
      <a role="button" class="">ğŸ“· Photo</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-cb9faa24ff5a1e625ee7af456561cccc" class="toggle"  />
    <label for="section-cb9faa24ff5a1e625ee7af456561cccc" class="flex justify-between">
      <a href="/wiki/photo-video/video/" class="">ğŸ“¹ Video</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b7d5948adeea2e3f2696297d6d797cd7" class="toggle"  />
    <label for="section-b7d5948adeea2e3f2696297d6d797cd7" class="flex justify-between">
      <a role="button" class="">ğŸ¤“ Reading</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-96fadd0070e772813a61c698b4e75a73" class="toggle"  />
    <label for="section-96fadd0070e772813a61c698b4e75a73" class="flex justify-between">
      <a href="/wiki/software-engineering/" class="">ğŸ—ï¸ Software engineering</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6cc3213ec68d93c8764c6ed6a1239690" class="toggle"  />
    <label for="section-6cc3213ec68d93c8764c6ed6a1239690" class="flex justify-between">
      <a role="button" class="">ğŸ—ï¸ Build tools</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/software-engineering/build-tools/gradle/" class="">ğŸ˜ Gradle</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f52f6b8ca8341591418993845f27e9b8" class="toggle"  />
    <label for="section-f52f6b8ca8341591418993845f27e9b8" class="flex justify-between">
      <a href="/wiki/software-engineering/clean-code/" class="">ğŸ§¼ Clean Code</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-79e6b16255efbce389b5cbba33809eac" class="toggle"  />
    <label for="section-79e6b16255efbce389b5cbba33809eac" class="flex justify-between">
      <a role="button" class="">ğŸš¢ Containers, Docker, K8S</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-37bc4d01764f606a12e2516f7a9a0b1a" class="toggle"  />
    <label for="section-37bc4d01764f606a12e2516f7a9a0b1a" class="flex justify-between">
      <a href="/wiki/software-engineering/containers-docker-k8s/containers/" class="">ğŸ“¦ Containers</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-e092b999f819635e2fa6dc7c04759e72" class="toggle"  />
    <label for="section-e092b999f819635e2fa6dc7c04759e72" class="flex justify-between">
      <a role="button" class="">ğŸ‹ Docker</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9672c82c2081929459f76e61c5378ae9" class="toggle"  />
    <label for="section-9672c82c2081929459f76e61c5378ae9" class="flex justify-between">
      <a href="/wiki/software-engineering/containers-docker-k8s/k8s/" class="">â˜¸ï¸ Kubernetes</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-77352b9f6f771242fb18c51da7ba232a" class="toggle"  />
    <label for="section-77352b9f6f771242fb18c51da7ba232a" class="flex justify-between">
      <a href="/wiki/software-engineering/crdt-ot/" class="">ğŸ”€ CRDT &amp; OT</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-96ead30ed7fc2554a613cf2f2e0d6f89" class="toggle"  />
    <label for="section-96ead30ed7fc2554a613cf2f2e0d6f89" class="flex justify-between">
      <a role="button" class="">ğŸ—ƒï¸ Databases</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d67d10c7e75e92109498752a9724de8d" class="toggle"  />
    <label for="section-d67d10c7e75e92109498752a9724de8d" class="flex justify-between">
      <a href="/wiki/software-engineering/db/postgresql/" class="">ğŸ˜ PostgreSQL</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c35b61bdf81b17d40fd2c94d26ad9f69" class="toggle"  />
    <label for="section-c35b61bdf81b17d40fd2c94d26ad9f69" class="flex justify-between">
      <a href="/wiki/software-engineering/db/redis/" class="">ğŸ—ƒï¸ Redis</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2328e0ed74aa4f80b0e4241217099f96" class="toggle"  />
    <label for="section-2328e0ed74aa4f80b0e4241217099f96" class="flex justify-between">
      <a role="button" class="">ğŸ‘· DevOps</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/software-engineering/devops/maturity-model/" class="">ğŸ“ˆ DevOps maturity model</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ef8099972c5c4118445b3ac1e8cc9520" class="toggle"  />
    <label for="section-ef8099972c5c4118445b3ac1e8cc9520" class="flex justify-between">
      <a href="/wiki/software-engineering/gamedev/" class="">ğŸ‘¾ GameDev</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-56e539fa33dc8636b83c11bf1f051192" class="toggle"  />
    <label for="section-56e539fa33dc8636b83c11bf1f051192" class="flex justify-between">
      <a href="/wiki/software-engineering/git/" class="">ğŸ«’ Git</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-28b01b1c14ab8b905fafee4ed2035e3e" class="toggle"  />
    <label for="section-28b01b1c14ab8b905fafee4ed2035e3e" class="flex justify-between">
      <a href="/wiki/software-engineering/interviews/" class="">ğŸ’¼ Interviews</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b5054bdf291ed38f1ea022666c9efca4" class="toggle"  />
    <label for="section-b5054bdf291ed38f1ea022666c9efca4" class="flex justify-between">
      <a role="button" class="">âŒ¨ï¸ Programming languages</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-43a4c29c31e1a6448f6185af46ef1601" class="toggle"  />
    <label for="section-43a4c29c31e1a6448f6185af46ef1601" class="flex justify-between">
      <a href="/wiki/software-engineering/programming-languages/java/" class="">â˜• JVM</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d9ae27acb20af536f2c10a121342ebf7" class="toggle"  />
    <label for="section-d9ae27acb20af536f2c10a121342ebf7" class="flex justify-between">
      <a href="/wiki/software-engineering/programming-languages/rust/" class="">ğŸ¦€ Rust</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0402a920f5e8ef3e31d9de3365123765" class="toggle"  />
    <label for="section-0402a920f5e8ef3e31d9de3365123765" class="flex justify-between">
      <a href="/wiki/software-engineering/system-design/" class="">ğŸ§± System design</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/software-engineering/system-design/cap/" class="">ğŸ”º CAP</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-882997ccc9a7d8badabc8184874eaba0" class="toggle"  />
    <label for="section-882997ccc9a7d8badabc8184874eaba0" class="flex justify-between">
      <a href="/wiki/software-engineering/utilities/" class="">ğŸ› ï¸ Utilities</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-b5f45c5d3f19106a2e4a6ea3c48395be" class="toggle"  />
    <label for="section-b5f45c5d3f19106a2e4a6ea3c48395be" class="flex justify-between">
      <a href="/wiki/style/" class="">ğŸ‘” Style</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d4e7b2e6c56b5dc306b3122b7d9b6c50" class="toggle"  />
    <label for="section-d4e7b2e6c56b5dc306b3122b7d9b6c50" class="flex justify-between">
      <a role="button" class="">ğŸŒ Travel</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-845eeaf908f26cdd66933b74b5ba6169" class="toggle"  />
    <label for="section-845eeaf908f26cdd66933b74b5ba6169" class="flex justify-between">
      <a href="/wiki/travel/cycling/" class="">ğŸš´ Cycling</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-a273aac4ef9007ae4ee980be32e63c41" class="toggle"  />
    <label for="section-a273aac4ef9007ae4ee980be32e63c41" class="flex justify-between">
      <a role="button" class="">âœˆï¸ Flights</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/wiki/travel/flights/flight-finders/" class="">âœˆï¸ Flight finders</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2fd54f0aa010a84d350132bd9407068d" class="toggle"  />
    <label for="section-2fd54f0aa010a84d350132bd9407068d" class="flex justify-between">
      <a href="/wiki/travel/hiking/" class="">ğŸ¥¾ Hiking</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f0f36b9978137fd4860398f58d9cd48a" class="toggle"  />
    <label for="section-f0f36b9978137fd4860398f58d9cd48a" class="flex justify-between">
      <a href="/wiki/writing/" class="">âœğŸ½ Writing</a>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong></strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a>
      <ul>
        <li><a href="#keyboard-types">Keyboard Types</a></li>
        <li><a href="#simple-keyboard-interactions">Simple Keyboard Interactions</a></li>
        <li><a href="#extended-keyboard-interactions">Extended Keyboard Interactions</a></li>
      </ul>
    </li>
    <li><a href="#basic-api--classes">Basic API &amp; Classes</a>
      <ul>
        <li><a href="#keyboards">Keyboards</a></li>
        <li><a href="#buttons">Buttons</a></li>
        <li><a href="#matrices">Matrices</a></li>
      </ul>
    </li>
    <li><a href="#working-with-keyboards">Working with keyboards</a>
      <ul>
        <li><a href="#reply-keyboards">Reply keyboards</a></li>
        <li><a href="#inline-keyboards">Inline keyboards</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="keyboards-guide">
  Keyboards Guide
  <a class="anchor" href="#keyboards-guide">#</a>
</h1>
<p>This guide will help you choose the right keyboard for your needs and show you various API facilities available in the library to support your choice.</p>
<h2 id="introduction">
  Introduction
  <a class="anchor" href="#introduction">#</a>
</h2>
<h3 id="keyboard-types">
  Keyboard Types
  <a class="anchor" href="#keyboard-types">#</a>
</h3>
<p>The first thing you need to know is that there are two types of keyboards available in the Telegram Bot API: 
  <a href="https://core.telegram.org/bots/features#keyboards"><strong>reply</strong></a> and 
  <a href="https://core.telegram.org/bots/features#inline-keyboards"><strong>inline</strong></a> keyboards.</p>
<p>
  <img src="001.png" alt="Keyboards comparison" title="Keyboards comparison"/></p>
<p>Note the differences in the way these keyboards are shown to a user.</p>
<p>A reply keyboard is shown under the message input field.
It replaces the device&rsquo;s native input method on a mobile device.</p>
<p>An inline keyboard is shown as a part of the message in the chat.</p>
<h3 id="simple-keyboard-interactions">
  Simple Keyboard Interactions
  <a class="anchor" href="#simple-keyboard-interactions">#</a>
</h3>
<p>When a user clicks on a simple reply keyboard button, its text is just sent in the chat.</p>
<p>When a user clicks on a simple inline keyboard button, nothing is sent to the chat.
Instead, a 
  <a href="https://core.telegram.org/bots/api#callbackquery">callback query</a> (a fancy way to say &ldquo;a request&rdquo;) is sent directly to the bot and the button is highlighted.
It will stay highlighted until the bot acks the callback.</p>
<p>
  <img src="002.png" alt="Simple keyboard interactions" title="Simple keyboard interactions"/></p>
<p>NOTE: It&rsquo;s a common mistake to forget to handle callback queries.
It leads to the buttons being highlighted for long periods of time, which leads to a bad user experience.
Don&rsquo;t forget to handle these callbacks!</p>
<p>As new messages arrive, a reply keyboard will stay there, while the inline keyboard will stick to the message and move with it.</p>
<p>
  <img src="003.png" alt="Keyboards position with multiple messages" title="Keyboards position with multiple messages"/></p>
<p>Upsâ€¦
The reply keyboard is now far away from the message it was sent with.</p>
<p>Actually, they are two different unrelated entities now: the original message and the reply keyboard.
A reply keyboard persists until you explicitly 
  <a href="https://core.telegram.org/bots/api#replykeyboardremove">remove</a> it or replace it with a different one.</p>
<p>NOTE: It&rsquo;s a common mistake to forget to remove or replace reply keyboards.
It leads to the keyboards being shown forever.
Don&rsquo;t forget to remove reply keyboards when you don&rsquo;t need them anymore!</p>
<p>An inline keyboard could also be removed or changed by editing the original message it was attached to.</p>
<h3 id="extended-keyboard-interactions">
  Extended Keyboard Interactions
  <a class="anchor" href="#extended-keyboard-interactions">#</a>
</h3>
<p>Keyboards are not limited to text only.
They could be used to ask users for different things, like payments, locations, phone numbers, etc.
They could be used to open arbitrary URLs or 
  <a href="https://core.telegram.org/bots/webapps">web apps</a>.
Telegram clients process these buttons and interact with the users in the appropriate ways.</p>
<p>For the full list of options, see the official documentation on 
  <a href="https://core.telegram.org/bots/api#keyboardbutton">reply</a> and 
  <a href="https://core.telegram.org/bots/api#inlinekeyboardbutton">inline</a> keyboards.</p>
<p>
  <img src="004.png" alt="Extended keyboard interactions" title="Extended keyboard interactions"/></p>
<h2 id="basic-api--classes">
  Basic API &amp; Classes
  <a class="anchor" href="#basic-api--classes">#</a>
</h2>
<p>Now, that you know the basics, let&rsquo;s see how to use the library.</p>
<h3 id="keyboards">
  Keyboards
  <a class="anchor" href="#keyboards">#</a>
</h3>
<p>In Telegram Bot API keyboards are sent to the user as a part of an interaction via the <code>reply_markup</code> parameter.
More specifically, this parameter is available:</p>
<ul>
<li>in the <code>sendXXX</code> methods, like 
  <a href="https://core.telegram.org/bots/api#sendmessage"><code>sendMessage</code></a>, 
  <a href="https://core.telegram.org/bots/api#sendphoto"><code>sendPhoto</code></a>, 
  <a href="sendSticker"><code>sendSticker</code></a>, etc.</li>
<li>in the 
  <a href="https://core.telegram.org/bots/api#copymessage"><code>copyMessage</code></a> method</li>
<li>in the <code>editMessageXXX</code> methods, like 
  <a href="https://core.telegram.org/bots/api#editmessagetext"><code>editMessageText</code></a>, 
  <a href="https://core.telegram.org/bots/api#editmessagecaption"><code>editMessageCaption</code></a>, 
  <a href="https://core.telegram.org/bots/api#editmessagereplymarkup"><code>editMessageReplyMarkup</code></a>, etc.
This also includes <code>stopXXX</code> methods like the 
  <a href="https://core.telegram.org/bots/api#stopmessagelivelocation"><code>stopMessageLiveLocation</code></a> method.</li>
</ul>
<p>TIP: <code>editMessageReplyMarkup</code> is specifically designed to edit a message&rsquo;s inline keyboard.</p>
<p>Sending inline keyboards is also supported in inline mode through the <code>reply_markup</code> parameter of the 
  <a href="https://core.telegram.org/bots/api#inlinequeryresult"><code>InlineQueryResult</code></a> type and its inheritors.
However, this 
  <a href="https://core.telegram.org/bots/inline">inline mode</a> is unrelated to the inline keyboards.</p>
<p>The <code>reply_markup</code> parameter accepts four different types.
Two of them â€” 
  <a href="https://core.telegram.org/bots/api#replykeyboardmarkup"><code>ReplyKeyboardMarkup</code></a> and 
  <a href="https://core.telegram.org/bots/api#inlinekeyboardmarkup"><code>InlineKeyboardMarkup</code></a> â€” correspond to the reply and inline keyboards respectively.
The 
  <a href="https://core.telegram.org/bots/api#replykeyboardremove"><code>ReplyKeyboardRemove</code></a> type is used to remove reply keyboards, but it&rsquo;s not a keyboard itself.
The last one, 
  <a href="https://core.telegram.org/bots/api#forcereply"><code>ForceReply</code></a>, is used to force users to reply to the bot.
It is not a keyboard either, but yet another dirty hack employed by the Telegram Bot API.</p>
<p>
  <img src="005.png" alt="A force reply" title="A force reply"/></p>
<p>Now, in the library, the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.abstracts.types/-with-reply-markup/index.html"><code>WithReplyMarkup</code></a> is a 
  <a href="https://en.wikipedia.org/wiki/Marker_interface_pattern">marker interface</a> for all the interactions which could have a <code>reply_markup</code> parameter.
It is extended by the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.requests.send.abstracts/-replying-markup-send-message-request/index.html"><code>ReplyingMarkupSendMessageRequest</code></a>, and then, finally, by classes like 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.requests.send/-send-text-message/index.html"><code>SendTextMessage</code></a>.
This, basically, corresponds to the Telegram Bot API.</p>
<p>The other way to send a keyboard is through the <code>replyMarkup</code> parameter of the numerous extension methods, like 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.api/dev.inmo.tgbotapi.extensions.api.send/send-message.html"><code>sendMessage</code></a>.
Those are just convenient wrappers around general interaction classes, like the aforementioned <code>SendTextMessage</code>.</p>
<h3 id="buttons">
  Buttons
  <a class="anchor" href="#buttons">#</a>
</h3>
<p>As we already know, keyboards consist of buttons.
Button classes reside in the <code>dev.inmo.tgbotapi.types.buttons</code> package.</p>
<p>The base class for the reply keyboard buttons is the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.buttons/-keyboard-button/index.html"><code>KeyboardButton</code></a>.
The base class for the inline keyboard buttons is the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.buttons.InlineKeyboardButtons/-inline-keyboard-button/index.html"><code>InlineKeyboardButton</code></a>.</p>
<p>See their inheritors for the full list of the available buttons.
The names are pretty self-explanatory and correspond to the Telegram Bot API.</p>
<p>For example, to send a simple reply keyboard button, use the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.buttons/-simple-keyboard-button/index.html"><code>SimpleKeyboardButton</code></a> class.
To request a contact from the user through the reply, use the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.buttons/-request-contact-keyboard-button/index.html"><code>RequestContactKeyboardButton</code></a> class.
To attach a URL button to the message, use the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.buttons.InlineKeyboardButtons/-u-r-l-inline-keyboard-button/index.html"><code>URLInlineKeyboardButton</code></a>.
And to attach a callback button, use the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.buttons.InlineKeyboardButtons/-callback-data-inline-keyboard-button/index.html"><code>CallbackDataInlineKeyboardButton</code></a>.</p>
<p>You get the idea.</p>
<p>So, to send a reply keyboard use the following code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>bot.sendMessage(
</span></span><span style="display:flex;"><span>    chatId = chat,
</span></span><span style="display:flex;"><span>    text = <span style="color:#e6db74">&#34;What is the best Kotlin Telegram Bot API library?&#34;</span>,
</span></span><span style="display:flex;"><span>    replyMarkup = ReplyKeyboardMarkup(
</span></span><span style="display:flex;"><span>        keyboard = listOf(
</span></span><span style="display:flex;"><span>            listOf(
</span></span><span style="display:flex;"><span>                SimpleKeyboardButton(<span style="color:#e6db74">&#34;ktgbotapi&#34;</span>),
</span></span><span style="display:flex;"><span>            ),
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>And here is how you send a basic inline keyboard:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>bot.sendMessage(
</span></span><span style="display:flex;"><span>    chatId = chat,
</span></span><span style="display:flex;"><span>    text = <span style="color:#e6db74">&#34;ktgbotapi is the best Kotlin Telegram Bot API library&#34;</span>,
</span></span><span style="display:flex;"><span>    replyMarkup = InlineKeyboardMarkup(
</span></span><span style="display:flex;"><span>        keyboard = listOf(
</span></span><span style="display:flex;"><span>            listOf(
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;I know&#34;</span>, <span style="color:#e6db74">&#34;know&#34;</span>),
</span></span><span style="display:flex;"><span>                URLInlineKeyboardButton(<span style="color:#e6db74">&#34;Learn more&#34;</span>, <span style="color:#e6db74">&#34;https://github.com/InsanusMokrassar/ktgbotapi&#34;</span>)
</span></span><span style="display:flex;"><span>            ),
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>
  <img src="006.png" alt="Keyboards with ktgbotapi" title="Keyboards with ktgbotapi"/></p>
<p>When we&rsquo;re done with this simple quiz, we can remove the keyboard with the following code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>bot.sendMessage(
</span></span><span style="display:flex;"><span>    chatId = chat,
</span></span><span style="display:flex;"><span>    text = <span style="color:#e6db74">&#34;You&#39;re goddamn right!&#34;</span>,
</span></span><span style="display:flex;"><span>    replyMarkup = ReplyKeyboardRemove()
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>NOTE: Don&rsquo;t forget to remove the reply keyboards!</p>
<h3 id="matrices">
  Matrices
  <a class="anchor" href="#matrices">#</a>
</h3>
<p>Buttons in keyboards are arranged in matrices, i.e. two-dimensional arrays, or, to say in layperson&rsquo;s terms, rows and columns.
In contrast to the matrices you&rsquo;ve learned in school, keyboards are not always necessarily square.
Try it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>bot.sendMessage(
</span></span><span style="display:flex;"><span>    chatId = chat,
</span></span><span style="display:flex;"><span>    text = <span style="color:#e6db74">&#34;In contrast to the matrices you&#39;ve learned in school, keyboards are not always necessary square.&#34;</span>,
</span></span><span style="display:flex;"><span>    replyMarkup = InlineKeyboardMarkup(
</span></span><span style="display:flex;"><span>        keyboard = listOf(
</span></span><span style="display:flex;"><span>            listOf(
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;1&#34;</span>, <span style="color:#e6db74">&#34;1&#34;</span>),
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;2&#34;</span>, <span style="color:#e6db74">&#34;2&#34;</span>),
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;3&#34;</span>, <span style="color:#e6db74">&#34;3&#34;</span>),
</span></span><span style="display:flex;"><span>            ),
</span></span><span style="display:flex;"><span>            listOf(
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;4&#34;</span>, <span style="color:#e6db74">&#34;4&#34;</span>),
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;5&#34;</span>, <span style="color:#e6db74">&#34;5&#34;</span>),
</span></span><span style="display:flex;"><span>            ),
</span></span><span style="display:flex;"><span>            listOf(
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;6&#34;</span>, <span style="color:#e6db74">&#34;6&#34;</span>),
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>
  <img src="007.png" alt="A triangular keyboard" title="A triangular keyboard"/></p>
<p>This way of building matrices is not very convenient, so the library provides a few eloquent DSLs to simplify that.</p>
<p>First, there are 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.utils/matrix.html"><code>matrix</code></a> and 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.utils/row.html"><code>row</code></a>, so the keyboard above can be built like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>bot.sendMessage(
</span></span><span style="display:flex;"><span>    chatId = chat,
</span></span><span style="display:flex;"><span>    text = <span style="color:#e6db74">&#34;DSLs are sweet!&#34;</span>,
</span></span><span style="display:flex;"><span>    replyMarkup = InlineKeyboardMarkup(
</span></span><span style="display:flex;"><span>        keyboard = matrix {
</span></span><span style="display:flex;"><span>            row {
</span></span><span style="display:flex;"><span>                +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;1&#34;</span>, <span style="color:#e6db74">&#34;1&#34;</span>)
</span></span><span style="display:flex;"><span>                +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;2&#34;</span>, <span style="color:#e6db74">&#34;2&#34;</span>)
</span></span><span style="display:flex;"><span>                +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;3&#34;</span>, <span style="color:#e6db74">&#34;3&#34;</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            row(
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;4&#34;</span>, <span style="color:#e6db74">&#34;4&#34;</span>),
</span></span><span style="display:flex;"><span>                CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;5&#34;</span>, <span style="color:#e6db74">&#34;5&#34;</span>),
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            row {
</span></span><span style="display:flex;"><span>                +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;6&#34;</span>, <span style="color:#e6db74">&#34;6&#34;</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>NOTE: Those plus signs are mandatory.</p>
<p>NOTE: There are two different <code>row</code> functions here.
Can you spot the difference?</p>
<p>A single-row matrix can be built with a 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.utils/flat-matrix.html"><code>flatMatrix</code></a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>flatMatrix {
</span></span><span style="display:flex;"><span>    +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;1&#34;</span>, <span style="color:#e6db74">&#34;1&#34;</span>)
</span></span><span style="display:flex;"><span>    +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;2&#34;</span>, <span style="color:#e6db74">&#34;2&#34;</span>)
</span></span><span style="display:flex;"><span>    +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;3&#34;</span>, <span style="color:#e6db74">&#34;3&#34;</span>)
</span></span><span style="display:flex;"><span>    +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;4&#34;</span>, <span style="color:#e6db74">&#34;4&#34;</span>)
</span></span><span style="display:flex;"><span>    +CallbackDataInlineKeyboardButton(<span style="color:#e6db74">&#34;5&#34;</span>, <span style="color:#e6db74">&#34;5&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>But the most convenient way to build a simple keyboard is to use the constructor-like methods: 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/-inline-keyboard-markup.html"><code>InlineKeyboardMarkup</code></a> and 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/-reply-keyboard-markup.html"><code>ReplyKeyboardMarkup</code></a>.
Note, that they are named just like the corresponding constructor, but take a vararg of buttons.
They create flat matrices, i.e. single rows.</p>
<p>Finally, there are 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/inline-keyboard.html"><code>inlineKeyboard</code></a> and 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/reply-keyboard.html"><code>replyKeyboard</code></a></p>
<p>DSL methods above rely on Kotlin&rsquo;s feature of receivers and extensions.
So, the magic is done by 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.utils/-matrix-builder/index.html"><code>MatrixBuilder</code></a> and 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.utils/-row-builder/index.html"><code>RowBuilder</code></a>.
That&rsquo;s why you must use the plus sign to add buttons to the matrix: it&rsquo;s just an overloaded operator call, another cool Kotlin feature widely used to create sweet DSLs.</p>
<p>Another bonus of using these DSLs is button builders, like 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/pay-button.html"><code>payButton</code></a>, 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/data-button.html"><code>dataButton</code></a>, and 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/url-button.html"><code>urlButton</code></a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>bot.sendMessage(
</span></span><span style="display:flex;"><span>    chatId = chat,
</span></span><span style="display:flex;"><span>    text = <span style="color:#e6db74">&#34;All in one!&#34;</span>,
</span></span><span style="display:flex;"><span>    replyMarkup = InlineKeyboardMarkup(
</span></span><span style="display:flex;"><span>        keyboard = matrix {
</span></span><span style="display:flex;"><span>            row {
</span></span><span style="display:flex;"><span>                payButton(<span style="color:#e6db74">&#34;Send money&#34;</span>)
</span></span><span style="display:flex;"><span>                dataButton(<span style="color:#e6db74">&#34;Ok&#34;</span>, <span style="color:#e6db74">&#34;ok&#34;</span>)
</span></span><span style="display:flex;"><span>                urlButton(<span style="color:#e6db74">&#34;Google&#34;</span>, <span style="color:#e6db74">&#34;https://google.com&#34;</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>Reply keyboard builders provide similar extensions, e.g.

  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/request-location-button.html"><code>requestLocationButton</code></a>.</p>
<p>So, choose the style you like â€” from plain Kotlin lists to sweet DSLs â€” and use it!</p>
<h2 id="working-with-keyboards">
  Working with keyboards
  <a class="anchor" href="#working-with-keyboards">#</a>
</h2>
<p>Working with keyboards is not something special in Telegram Bot API.
As you have already seen, keyboards are just message parameters.
Similarly, keyboard interactions are represented by regular 
  <a href="https://core.telegram.org/bots/api#getting-updates">Updates</a>.
I.e. when a user interacts with a keyboard, the bot receives an update.</p>
<p>On the other hand, the library is heavily typed, so the actual type of update you would receive varies.</p>
<h3 id="reply-keyboards">
  Reply keyboards
  <a class="anchor" href="#reply-keyboards">#</a>
</h3>
<p>As it was said, reply keyboards cause Telegram clients to send regular messages back to the bot.
Peruse this example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span>bot.buildBehaviourWithLongPolling {
</span></span><span style="display:flex;"><span>    bot.sendMessage(
</span></span><span style="display:flex;"><span>        chatId = chat,
</span></span><span style="display:flex;"><span>        text = <span style="color:#e6db74">&#34;ğŸ‘® Turn in your accomplices or be prepared for a lengthy ğŸ† incarceration â›“ ğŸ‘Š â€¼&#34;</span>,
</span></span><span style="display:flex;"><span>        replyMarkup = replyKeyboard {
</span></span><span style="display:flex;"><span>            +SimpleKeyboardButton(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;I ain&#39;t no rat! ğŸš«ğŸ€ğŸ¤ğŸ™…&#34;</span>
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            +RequestUserKeyboardButton(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Rat out ğŸ€ a friend ğŸ‘¤&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">KeyboardButtonRequestUser</span>.Common(<span style="color:#a6e22e">RequestId</span>.random())
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>            +RequestChatKeyboardButton(
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Rat out ğŸ€ a group of friends ğŸ‘¥&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">KeyboardButtonRequestChat</span>.Group(<span style="color:#a6e22e">RequestId</span>.random())
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    onText { message: CommonMessage&lt;TextContent&gt; <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        assert(message.text <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;I ain&#39;t no rat! ğŸš«ğŸ€ğŸ¤ğŸ™…&#34;</span>)
</span></span><span style="display:flex;"><span>        bot.reply(
</span></span><span style="display:flex;"><span>            to = message,
</span></span><span style="display:flex;"><span>            text = <span style="color:#e6db74">&#34;Good, you&#39;re going to jail alone! â›“ğŸ§‘â›“&#34;</span>,
</span></span><span style="display:flex;"><span>            replyMarkup = ReplyKeyboardRemove()
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    onUserShared { message: PrivateEventMessage&lt;UserShared&gt; <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        bot.reply(
</span></span><span style="display:flex;"><span>            to = message,
</span></span><span style="display:flex;"><span>            text = <span style="color:#e6db74">&#34;Haha, you and you friend are both going to jail! â›“ğŸ‘¬â›“&#34;</span>,
</span></span><span style="display:flex;"><span>            replyMarkup = ReplyKeyboardRemove()
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    onChatShared { message: PrivateEventMessage&lt;ChatShared&gt; <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        bot.reply(
</span></span><span style="display:flex;"><span>            to = message,
</span></span><span style="display:flex;"><span>            text = <span style="color:#e6db74">&#34;Haha, now you&#39;re all going to jail! â›“ğŸ‘¨â€ğŸ‘¦â€ğŸ‘¦â›“&#34;</span>,
</span></span><span style="display:flex;"><span>            replyMarkup = ReplyKeyboardRemove()
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}.join()
</span></span></code></pre></div><p>It&rsquo;s big, I know, and I won&rsquo;t explain the <code>buildBehaviourWithLongPolling</code> DSL here, but I hope you get the idea: the bot acts like a cop and asks the user to rat out his friends via a reply keyboard (it&rsquo;s an imaginary situation, of course).
The user may refuse to cooperate, rat out a single friend or the whole imaginary group.
The bot receives the user&rsquo;s choices as regular updates, the code above has explicit types (generally optional in Kotlin) and an assert to demonstrate this.</p>
<p>And here is how it works (the user selects the options in the order):</p>
<!-- raw HTML omitted -->
<p>
  <img src="008.gif" alt="Reply keyboards" title="Reply keyboards"/></p>
<p>Note how you handle reply keyboards: you process regular messages.
For instance, a simple text button sends a regular text message indistinguishable from a case when a user simply types the same text manually.</p>
<p>And don&rsquo;t be a rat in real life: remove the keyboards with the <code>ReplyKeyboardRemove</code> after you&rsquo;ve received the input!
Otherwise, a keyboard will stay there indefinitely.</p>
<h3 id="inline-keyboards">
  Inline keyboards
  <a class="anchor" href="#inline-keyboards">#</a>
</h3>
<p>Finally, to master the keyboards, you need to know how to handle the inline ones.</p>
<p>Again, let&rsquo;s explore the example.
Imagine you&rsquo;re making a quiz where users are given a question and a set of answers.
Additionally, users are given a link to the wiki page to help with the question and a Google button.</p>
<p>The quiz could be implemented this way:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#75715e">// A simple data class to represent a question
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">val</span> question = Question(
</span></span><span style="display:flex;"><span>    image = <span style="color:#e6db74">&#34;https://upload.wikimedia.org/wikipedia/commons/a/a5/Tsunami_by_hokusai_19th_century.jpg&#34;</span>,
</span></span><span style="display:flex;"><span>    question = <span style="color:#e6db74">&#34;Who painted this?&#34;</span>,
</span></span><span style="display:flex;"><span>    answers = listOf(
</span></span><span style="display:flex;"><span>        Answer(<span style="color:#e6db74">&#34;Hokusai&#34;</span>, correct = <span style="color:#66d9ef">true</span>),
</span></span><span style="display:flex;"><span>        Answer(<span style="color:#e6db74">&#34;Sukenobu&#34;</span>),
</span></span><span style="display:flex;"><span>        Answer(<span style="color:#e6db74">&#34;ChÅshun&#34;</span>),
</span></span><span style="display:flex;"><span>        Answer(<span style="color:#e6db74">&#34;Kiyonobu I&#34;</span>),
</span></span><span style="display:flex;"><span>    ),
</span></span><span style="display:flex;"><span>    wiki = <span style="color:#e6db74">&#34;https://en.wikipedia.org/wiki/Ukiyo-e&#34;</span>,
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bot.buildBehaviourWithLongPolling {
</span></span><span style="display:flex;"><span>    bot.sendPhoto(
</span></span><span style="display:flex;"><span>        chatId = chat,
</span></span><span style="display:flex;"><span>        fileId = <span style="color:#a6e22e">InputFile</span>.fromUrl(question.image),
</span></span><span style="display:flex;"><span>        text = question.question,
</span></span><span style="display:flex;"><span>        replyMarkup = inlineKeyboard {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// First row: answers
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            row {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> (answer <span style="color:#66d9ef">in</span> question.answers.shuffled()) {
</span></span><span style="display:flex;"><span>                    dataButton(
</span></span><span style="display:flex;"><span>                        text = answer.answer,
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">data</span> = <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${answer.answer}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${answer.correct}</span><span style="color:#e6db74">&#34;</span>,
</span></span><span style="display:flex;"><span>                    )
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Second row: help buttons
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            row {
</span></span><span style="display:flex;"><span>                urlButton(<span style="color:#e6db74">&#34;Wiki ğŸ’&#34;</span>, question.wiki)
</span></span><span style="display:flex;"><span>                webAppButton(<span style="color:#e6db74">&#34;Google ğŸ”&#34;</span>, <span style="color:#e6db74">&#34;https://google.com&#34;</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    onDataCallbackQuery { callback: DataCallbackQuery <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">val</span> <span style="color:#960050;background-color:#1e0010">(</span>answer, correct) = callback.<span style="color:#66d9ef">data</span>.split(<span style="color:#e6db74">&#34;:&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (correct.toBoolean()) {
</span></span><span style="display:flex;"><span>            bot.answerCallbackQuery(
</span></span><span style="display:flex;"><span>                callback,
</span></span><span style="display:flex;"><span>                text = <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">$answer</span><span style="color:#e6db74"> is a âœ… correct answer!&#34;</span>,
</span></span><span style="display:flex;"><span>                showAlert = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            bot.answerCallbackQuery(
</span></span><span style="display:flex;"><span>                callback,
</span></span><span style="display:flex;"><span>                text = <span style="color:#e6db74">&#34;âŒ Try again, </span><span style="color:#e6db74">$answer</span><span style="color:#e6db74"> is not a correct answerâ€¦&#34;</span>,
</span></span><span style="display:flex;"><span>                showAlert = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>            )
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}.join()
</span></span></code></pre></div><p>A few important things to note here.</p>
<p>First, the data buttons (they have the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.buttons.InlineKeyboardButtons/-callback-data-inline-keyboard-button/index.html"><code>CallbackDataInlineKeyboardButton</code></a> type, but in the code we used a 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.utils/dev.inmo.tgbotapi.extensions.utils.types.buttons/data-button.html">neat DSL</a>) must have unique <code>data</code>.
If the <code>data</code> is not unique, Telegram clients will highlight all the buttons with the same data when a user clicks on one of them.
Guess how I know that?
Well, it&rsquo;s not in the docs, so trial and error is the only way to learn it (and many other things about the Telegram Bot API).</p>
<p>Second, the way you handle inline keyboards is different from the way you handle reply keyboards.
Bot API will send updates with a <code>callback_query</code> field populated.
This field, of a 
  <a href="https://core.telegram.org/bots/api#callbackquery"><code>CallbackQuery</code></a> type, represents incoming callbacks from callback buttons in inline keyboards.
The library turns them into 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.queries.callback/index.html">multiple callback types</a>, like the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.queries.callback/-data-callback-query/index.html"><code>DataCallbackQuery</code></a> we used in the example.
Finally, to handle these callbacks you could use 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.behaviour_builder/dev.inmo.tgbotapi.extensions.behaviour_builder.triggers_handling/on-data-callback-query.html"><code>onDataCallbackQuery</code></a>.
Alternatively, if you&rsquo;re not using any DSLs, you have to handle the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.core/dev.inmo.tgbotapi.types.update/-callback-query-update/index.html"><code>CallbackQueryUpdate</code></a> update type.</p>
<p>Third, the buttons got highlighted when a user clicks on them.
When you&rsquo;re done with the callback, you need to answer it, by using the 
  <a href="https://tgbotapi.inmo.dev/tgbotapi.api/dev.inmo.tgbotapi.extensions.api.answers/answer-callback-query.html"><code>answerCallbackQuery</code></a> function.
Otherwise, the button will remain highlighted.
Telegram clients will eventually remove the highlight, but it&rsquo;s still frustrating.</p>
<p>Finally, you could choose between two styles of acknowledgment: a simple toast-like message or a modal alert.
The <code>showAlert</code> flag controls this behavior.</p>
<p>And here is the demo of the quiz:</p>
<!-- raw HTML omitted -->
<p>
  <img src="009.gif" alt="Inline keyboards" title="Inline keyboards"/></p>
<h2 id="conclusion">
  Conclusion
  <a class="anchor" href="#conclusion">#</a>
</h2>
<p>Today we&rsquo;ve learned how to use keyboards in Telegram bots.
There are two types of keyboards: reply and inline.
Reply keyboards replace the device&rsquo;s keyboard and make clients send a message with the predefined content.
Inline keyboards are buttons attached to messages.
Clicking on them causes the client to send a callback to the bot.
In both scenarios the bot receives an update of a corresponding type and has to acknowledge the keayboard interaction for the client to work properly.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">




  <div>
    <a class="flex align-center" href="https://github.com/madhead/wiki/edit/master/content/_index.md" target="_blank" rel="noopener">
      <img src="/svg/edit.svg" class="book-icon" alt="Edit" />
      <span>Edit this page</span>
    </a>
  </div>


</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a>
      <ul>
        <li><a href="#keyboard-types">Keyboard Types</a></li>
        <li><a href="#simple-keyboard-interactions">Simple Keyboard Interactions</a></li>
        <li><a href="#extended-keyboard-interactions">Extended Keyboard Interactions</a></li>
      </ul>
    </li>
    <li><a href="#basic-api--classes">Basic API &amp; Classes</a>
      <ul>
        <li><a href="#keyboards">Keyboards</a></li>
        <li><a href="#buttons">Buttons</a></li>
        <li><a href="#matrices">Matrices</a></li>
      </ul>
    </li>
    <li><a href="#working-with-keyboards">Working with keyboards</a>
      <ul>
        <li><a href="#reply-keyboards">Reply keyboards</a></li>
        <li><a href="#inline-keyboards">Inline keyboards</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












